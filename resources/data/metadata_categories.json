{
  "config": {
    "log": "debug"
  },
  "begin": [
    {"console": {"commands": [
      "CONNECT remote:localhost/Glossa admin admin;",
      "TRUNCATE CLASS MetadataCategory;",
      "TRUNCATE CLASS HasMetadataCategory;"
    ]}}
  ],
  "source": { "file": { "path": "###TSV-PATH###" } },
  "extractor": { "row": {} },
  "transformers": [
    { "csv": { "separator": "\t" } },
    { "vertex": { "class": "MetadataCategory" } },
    { "edge": {"class": "HasMetadataCategory",
               "lookup": "Corpus.code",
               "joinValue": "###CORPUS###",
               "unresolvedLinkAction": "ERROR"}}
  ],
  "loader": {
    "orientdb": {
      "dbURL": "remote:localhost/Glossa",
      "dbType": "graph",
      "classes": [
        {"name": "Corpus", "extends": "V"},
        {"name": "MetadataCategory", "extends": "V"},
        {"name": "HasMetadataCategory", "extends": "E"}
      ],
      "indexes": [
        {"class":"Corpus", "fields":["code:string"], "type":"UNIQUE" }
      ]
    }
  }
}